# Project Prompt Instructions

## 基本規範
- 所有 `prompt.md` 需直接在文件內完整貼上所引用的 `_core` 與 `_stylepacks` 模板內容，不得以連結、代碼或簡寫方式引用。
- 專案目錄內僅輸出 `prompt.md` 主檔；禁止生成 `meta.md` 或其他引用摘要檔案。
- 若需要新增重複使用的內容，請先確認是否已有對應模板，再決定是否撰寫新段落，並同樣完整內嵌於 `prompt.md`。
- 影片長度若未特別註明，預設為 **15 秒**，請在 Master Prompt 與分鏡區塊明確標記時間軸（建議 **12 幕 × 1.2s**）。
- 分鏡需維持 **Act → Beat → Angle** 的層級結構，並補齊運鏡、光影、聲音與轉場細節以利動畫工具解析。
- 專案請以「`<專案名稱>/<YYYY-MM-DD>_ep<集數>-<slug>`」的層級分類，建立 `prompt.md` 時務必放置於對應日期與集數資料夾內。
- 每份 `prompt.md` 正文至少 **450 行**，需確保所有模板內容與分鏡細節完整展開，不得因精簡而低於行數下限。
- **所有專案日期一律以 UTC+8（台灣時間）當下日期為準**：建立新專案時，需依當下 UTC+8 的日期決定檔名中的日期標記。
  - 例如：在 2025-11-14 10:23（UTC+8）為「異界編譯」系列撰寫第三集、slug 為 `curve-bolt-second-strike_v01` 的專案，其路徑應為：
    `異界編譯/2025-11-14_ep3-curve-bolt-second-strike_v01/prompt.md`

## 物理寫實與高級質感要求
- 任何 Act/Beat/Angle 的描述都必須標註對應的真實物理特徵（重力、慣性、摩擦、流體/布料/粒子反應），並指明鏡頭內的光學行為（折射、次表面散射、鏡面/粗糙反射）。
- 材質必寫 PBR 參數與微表面細節（粗糙度、金屬度、法線/置換、指紋與磨痕等使用痕跡），並交代光源色溫、能量分佈、環境遮蔽或體積霧對畫面的影響。
- 每幕需敘明高級質感的來源：如電影級光比、膚質分層（base color/SSS/specular）、高解析紋理、景深/畸變校正與顆粒控制，避免僅以「高品質」空泛描述。
- 以上物理與質感細節必須完整收錄在 `prompt.md` 的 Master Prompt 及各分鏡段落，不得省略或以「同前鏡」代稱。

## 風格擴充流程
- 遇到全新製片風格需求時，於對應 `prompt.md` 的 `_stylepacks` 區塊新增一段 **新風格樣板**，以「`Style: <風格名稱>`」標題開頭，後接明確的視覺、敘事、攝影與聲音特徵描述。
- 新風格樣板須標註適用情境與不可混用的限制，並附上 1～2 個代表性元素，方便後續檢索與一致化運用。
- 若新風格可能重複使用，可於內部知識庫另行保存同名樣板全文，但在專案倉庫內仍僅保留 `prompt.md`，以維持檔案規範。

## 品質自檢清單（須全數達到 10/10）
1. **結構完整度**：Master Prompt 與分鏡層級是否齊全、時間軸是否明確。
2. **敘事一致性**：Act、Beat 與 Angle 描述是否連貫且符合風格樣板。
3. **視聽細節**：攝影、光影、聲音、轉場等是否具體、可操作。
4. **風格準確性**：引用或新增之 `_stylepacks` 是否貼合需求且無衝突。
5. **格式精準度**：段落、縮排、標點與命名是否符合專案規範。
6. **物理質感到位**：各幕是否寫明重力/慣性、布料或流體反應、光學行為與 PBR 材質參數，高級質感來源是否完整植入 Master Prompt 與分鏡。

每個項目須自評 10/10 後方可提交，並於提交前再次確認無遺漏檔案或未依規定建立資料夾階層。

## 連續劇集製作指引

### 定義連載骨架與狀態機
- 先於專案根目錄建立「系列主控稿」，以表格列出季別、集數、主要敘事弧線與每集 cliffhanger，並標註必備角色與道具狀態。
- 建立狀態機圖示：列出 Act → Beat → Angle 的狀態流轉與條件（如角色心境改變、場景轉換、時間跳躍），確保每集延續上一集的終止狀態。
- 每次新增劇集前，以上一集的終止節點為初始狀態，更新必須銜接的事件與限制，避免平行版本或情節矛盾。

### 維護共享世界與角色模板
- 在 `_core` 段落中維護世界觀設定與角色檔案，統一角色口頭禪、動作習慣、服裝色票與關鍵道具描述。
- 若角色或場景有變動（例如造型、武器、場景破壞），需在模板中標註有效集數與變動原因，並更新後續集數的預設狀態。
- 每次撰寫新集劇本時，直接複製最新模板，避免漏掉關鍵屬性或沿用過時資訊。

### 新動作前先複述前一鏡面狀態
- 在每個 Beat 開頭以 1～2 句重述上一鏡面（或上一集最後鏡面）的角色位置、情緒與環境條件，並標註與狀態機相符的節點 ID。
- 僅在確認重述完成後，才撰寫新的動作或對話指令；若須引入新元素，必須說明其與既有狀態的關聯。
- 對於多線敘事，分別記錄每條線的前一鏡面摘要，確保平行剪輯依然維持時間與邏輯一致。

### 攝影延續與轉場規劃
- 於 Master Prompt 中新增「Camera Continuity」子段落，明確記錄前一集結束時的鏡頭參數（焦距、機位、運鏡方向、光比）與延續需求。
- 對每個 Act 預先列出預計轉場（硬切、推拉、疊化、匹配剪接）與過渡鏡頭，確保跨集銜接時不產生突兀變化。
- 若須更換攝影語言，必須撰寫「轉換前置條件」，如劇情節點或視覺暗示，方便動畫師掌握節奏。

### 持續性要素清單
- 建立「Persistent Elements」表格，列出需跨集保留的 props、UI、字幕樣式、音樂動機與場景損毀狀態，並標註是否已使用、預計解除集數。
- 為每項要素附上視覺或聲音參考（色碼、音階、紋理描述），確保不同集數的 prompt 作者都能複製相同質感。
- 在每集交付前交叉檢查清單，若有新要素加入或舊要素退場，必須更新表格並在提交記錄中註明調整理由。
